<section id="map">
    <div class="map-container">
        <div class="map-header" data-aos="fade-up">
            <h2 class="section-title" data-translate="map-title">Impact Map</h2>
            <p class="section-subtitle" data-translate="map-subtitle">Explore Donation Projects Across Israel</p>
        </div>
        
        <div class="map-content" data-aos="fade-up" data-aos-delay="200">
            <!-- Map container - DO NOT MODIFY -->
            <div id="leafletMap" class="map-view"></div>
            
            <div class="map-sidebar">
                <div class="map-legend">
                    <h4 data-translate="map-legend-title">Map Legend</h4>
                    <div class="legend-item">
                        <span class="legend-dot south"></span>
                        <span data-translate="map-legend-south">Southern Israel Projects</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-dot north"></span>
                        <span data-translate="map-legend-north">Northern Israel Projects</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-icon"><i class="fas fa-map-marker-alt"></i></span>
                        <span data-translate="map-legend-project">Active Projects</span>
                    </div>
                </div>
                
                <div class="map-info">
                    <h4 data-translate="map-instructions-title">How to Use This Map</h4>
                    <ul>
                        <li data-translate="map-instruction-1">Click on any marker to view project details</li>
                        <li data-translate="map-instruction-2">Select a project to view donation information</li>
                        <li data-translate="map-instruction-3">Click "View Details" to support a specific project</li>
                    </ul>
                    <div class="map-action">
                        <button onclick="refreshMap()" class="btn btn-outline btn-sm">
                            <i class="fas fa-sync-alt"></i> <span data-translate="map-refresh">Refresh Map</span>
                        </button>
                    </div>
                </div>
                
                <div id="selectedProjectInfo" class="map-selected-project" style="display: none;">
                    <h4 data-translate="map-selected-project">Selected Project</h4>
                    <div id="selectedProjectDetails">
                        <!-- Project details will be loaded here dynamically -->
                    </div>
                    <div class="map-action" style="margin-top: 1rem;">
                        <button onclick="showSection('donate')" class="btn btn-primary">
                            <i class="fas fa-heart"></i> <span data-translate="map-donate">Donate to This Project</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        
        
        <div class="map-projects-container" data-aos="fade-up" data-aos-delay="400"><br></br>
            <h3 class="section-subtitle" data-translate="map-projects-title">Featured Projects</h3>
            <p class="projects-description" data-translate="map-projects-description">Click on a project to locate it on the map and view more details</p>
            
            <div id="mapProjectsList" class="map-projects-list">
                <!-- Projects will be loaded here dynamically from the same data used for the map -->
                <div class="loading-placeholder">
                    <div class="spinner"></div>
                    <p data-translate="loading-projects">Loading projects...</p>
                </div>
            </div>
            
            <div class="map-action-center">
                <button onclick="showSection('donate')" class="btn btn-primary">
                    <i class="fas fa-heart"></i> <span data-translate="map-view-all-projects">View All Projects</span>
                </button>
            </div>
        </div>
    </div>
</section>