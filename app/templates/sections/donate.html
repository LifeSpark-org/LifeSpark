<section id="donate">
    <div class="donate-container">
        <div class="donate-header" data-aos="fade-up">
            <h2 class="section-title" data-translate="donate-title">Donate</h2>
            <p class="section-subtitle" data-translate="donate-subtitle">Make a Direct Impact Today</p>
        </div>
        
        <div class="donation-process" data-aos="fade-up" data-aos-delay="200">
            <div class="process-steps">
                <div class="process-step">
                    <div class="step-icon">
                        <i class="fas fa-wallet"></i>
                    </div>
                    <h4 data-translate="donate-step1">Connect Wallet</h4>
                </div>
                <div class="step-connector"></div>
                <div class="process-step">
                    <div class="step-icon">
                        <i class="fas fa-clipboard-list"></i>
                    </div>
                    <h4 data-translate="donate-step2">Choose Project</h4>
                </div>
                <div class="step-connector"></div>
                <div class="process-step">
                    <div class="step-icon">
                        <i class="fas fa-coins"></i>
                    </div>
                    <h4 data-translate="donate-step3">Enter Amount</h4>
                </div>
                <div class="step-connector"></div>
                <div class="process-step">
                    <div class="step-icon">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <h4 data-translate="donate-step4">Confirm</h4>
                </div>
            </div>
        </div>
        
        <!-- Auth Check Message -->
        <div id="donationAuthCheck" class="auth-message-container" style="display: none;">
            <div class="auth-message">
                <h3 data-translate="donate-auth-required">Login Required</h3>
                <p data-translate="donate-auth-message">You must be logged in to make a donation</p>
                <button type="button" onclick="showSection('login')" class="btn btn-primary">
                    <i class="fas fa-sign-in-alt"></i> <span data-translate="donate-auth-login">Login Now</span>
                </button>
            </div>
        </div>
        
        <div class="donation-options" data-aos="fade-up" data-aos-delay="300" id="donationOptionsContainer">
            <div class="wallet-section">
                <h3 data-translate="donate-wallet-title">Connect Your Wallet</h3>
                <p data-translate="donate-wallet-desc">First, connect your Ethereum wallet to begin the donation process.</p>
                
                <button type="button" id="connectWallet" class="btn btn-primary">
                    <i class="fas fa-link"></i> <span data-translate="donate-connect-wallet">Connect Wallet</span>
                </button>
                
                <div id="walletStatus" class="wallet-status">
                    <span data-translate="donate-wallet-status">Not connected</span>
                </div>
            </div>

            <!-- New Section: Approved Projects Carousel -->
            <div class="projects-section">
                <h3 data-translate="donate-projects-title">Choose a Project to Support</h3>
                <p data-translate="donate-projects-desc">Select a specific project or donate to a general region</p>
                
                
                <div id="projectsDonationContent">
                    <div class="approved-projects-container">
                        <div class="approved-projects-carousel" id="approvedProjectsCarousel">
                            <!-- Projects will be loaded here dynamically -->
                            <div class="loading-placeholder">
                                <div class="spinner"></div>
                                <p data-translate="loading-projects">Loading projects...</p>
                            </div>
                        </div>
                        
                        <div class="carousel-nav">
                            <button id="prevProject" class="carousel-nav-btn">
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <button id="nextProject" class="carousel-nav-btn">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>


        
        <div id="statusMessage" class="donation-status"></div>
        
        <div class="donation-info" data-aos="fade-up" data-aos-delay="400">
            <div class="info-box">
                <h4 data-translate="donate-info-title">Why Donate with Crypto?</h4>
                <ul>
                    <li data-translate="donate-info-1">Secure and transparent transactions</li>
                    <li data-translate="donate-info-2">Immediate transfer of funds</li>
                    <li data-translate="donate-info-3">Lower transaction fees</li>
                    <li data-translate="donate-info-4">Track your donation's impact</li>
                </ul>
            </div>
        </div>

        <!-- Crypto Conversion Widget -->
        <div id="crypto-widget" data-aos="fade-up" data-aos-delay="500">
            <h3 data-translate="donate-converter-title">ETH Conversion Calculator</h3>
            <p data-translate="donate-converter-subtitle">See the value of your donation in other currencies</p>
            
            <div class="converter-container">
                <div class="converter-input">
                    <div class="form-group">
                        <label for="ethInput" data-translate="donate-eth-amount">ETH Amount:</label>
                        <input type="number" id="ethInput" min="0.01" step="0.01" placeholder="0.1" class="converter-field">
                    </div>
                    
                    <div class="form-group">
                        <label for="currencySelect" data-translate="donate-currency">Currency:</label>
                        <select id="currencySelect" class="converter-field">
                            <option value="usd">USD</option>
                            <option value="eur">EUR</option>
                            <option value="gbp">GBP</option>
                            <option value="ils">ILS (Israeli Shekel)</option>
                            <option value="jpy">JPY (Japanese Yen)</option>
                            <option value="aud">AUD (Australian Dollar)</option>
                            <option value="cad">CAD (Canadian Dollar)</option>
                        </select>
                    </div>
                    
                    <button type="button" id="convertButton" class="btn btn-primary">
                        <i class="fas fa-exchange-alt"></i> <span data-translate="donate-convert">Convert</span>
                    </button>
                </div>
                
                <div id="conversionResult" class="conversion-result">
                    <span data-translate="donate-conversion-placeholder">Enter an amount to see the conversion</span>
                </div>
            </div>
        </div>
    </div>
    <!-- Add at the end of the #donate section -->
    <div id="projectDetailModal" class="modal project-detail-modal" style="display: none;">
        <div class="modal-content modal-lg">
            <div class="modal-header">
                <h3 id="projectDetailTitle">Project Details</h3>
                <button class="close-button">&times;</button>
            </div>
            <div class="modal-body">
                <div class="project-detail-container">
                    <div class="project-detail-content">
                        <!-- Project information will be displayed here -->
                        <div id="projectDetailInfo"></div>
                    </div>
                    <div class="project-detail-sidebar">
                        <!-- Donation form will be displayed here -->
                        <div id="projectDonationForm"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>